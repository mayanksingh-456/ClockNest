@inject IJSRuntime JS

<style>
    /* ===========================
        Modal: Slide from Right
       =========================== */
    .modal.right .modal-dialog {
        width: 55vw;
        height: 100vh;
        max-width: none;
        position: fixed;
        right: 0;
        top: 0;
        margin: 0;
        transform: translate3d(100%, 0, 0);
        transition: transform 0.3s ease-out;
    }

    .modal.right.show .modal-dialog {
        transform: translate3d(0, 0, 0);
    }

    .modal.right .modal-content {
        display: flex;
        flex-direction: column;
        height: 100%;
        border-radius: 0;
        overflow: hidden;
    }

    .modal.right .modal-header,
    .modal.right .modal-footer {
        flex-shrink: 0;
        padding: 1rem;
        background: #fff;
    }

    .modal.right .modal-body {
        flex: 1 1 auto;
        overflow-y: auto;
        padding: 1rem;
    }

    .modal-footer.sticky-bottom {
        position: sticky;
        bottom: 0;
        z-index: 10;
        border-top: 1px solid #dee2e6;
    }

  
</style>

<div class="modal fade right" id="employeeModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-xl modal-right">
        <div class="modal-content h-100 border-0">

            <EditForm Model="@EmployeeModal" OnSubmit="HandelValidSubmit" class="d-flex flex-column h-100">
                <DataAnnotationsValidator />

                <!-- Header-->
                <div class="modal-header border-0">
                    <h5 > @((EmployeeModal.Id ==0) ? "Create Employee" : "Edit Employee") </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Body-->
                <div class="modal-body overflow-auto flex-grow-1" style="max-height: 90vh;">

                    @* <div class="mb-3">
                        <label class="form-label">First Name</label>

                    </div> *@
                </div>

                <!-- Footer-->
                <div class="modal-footer sticky-bottom border-0">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>

            </EditForm>
        </div>
    </div>
</div>

@code{
    [Parameter] public CreateEditEmployeeViewModel EmployeeModal { get; set; } = new();
    [Parameter] public EventCallback<CreateEditEmployeeViewModel> OnSubmit { get; set; }

    public async Task ShowModal(CreateEditEmployeeViewModel model)
    {
        EmployeeModal = model; 
        await JS.InvokeVoidAsync("showModal", "employeeModal");
    }

    public async Task HandelValidSubmit()
    {
        
    }
}